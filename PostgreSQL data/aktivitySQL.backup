--
-- PostgreSQL database dump
--

-- Dumped from database version 9.4.1
-- Dumped by pg_dump version 9.4.1
-- Started on 2017-12-19 23:24:49

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

DROP DATABASE aktivity;
--
-- TOC entry 2200 (class 1262 OID 321458)
-- Name: aktivity; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE aktivity WITH TEMPLATE = template0 ENCODING = 'UTF8' LC_COLLATE = 'Czech_Czech Republic.1250' LC_CTYPE = 'Czech_Czech Republic.1250';


ALTER DATABASE aktivity OWNER TO postgres;

\connect aktivity

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- TOC entry 2201 (class 1262 OID 321458)
-- Dependencies: 2200
-- Name: aktivity; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON DATABASE aktivity IS 'Aktivity, rezeravce zdrojů, cestovní příkazy';


--
-- TOC entry 6 (class 2615 OID 2200)
-- Name: public; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA public;


ALTER SCHEMA public OWNER TO postgres;

--
-- TOC entry 2202 (class 0 OID 0)
-- Dependencies: 6
-- Name: SCHEMA public; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON SCHEMA public IS 'standard public schema';


--
-- TOC entry 188 (class 3079 OID 11855)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2204 (class 0 OID 0)
-- Dependencies: 188
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

--
-- TOC entry 542 (class 1247 OID 321459)
-- Name: _platido; Type: DOMAIN; Schema: public; Owner: postgres
--

CREATE DOMAIN _platido AS timestamp without time zone NOT NULL DEFAULT '2100-12-31 00:00:00'::timestamp without time zone;


ALTER DOMAIN _platido OWNER TO postgres;

--
-- TOC entry 2205 (class 0 OID 0)
-- Dependencies: 542
-- Name: DOMAIN _platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON DOMAIN _platido IS 'Plati DO';


--
-- TOC entry 543 (class 1247 OID 321460)
-- Name: _platiod; Type: DOMAIN; Schema: public; Owner: postgres
--

CREATE DOMAIN _platiod AS timestamp without time zone NOT NULL DEFAULT '2017-01-01 00:00:00'::timestamp without time zone;


ALTER DOMAIN _platiod OWNER TO postgres;

--
-- TOC entry 2206 (class 0 OID 0)
-- Dependencies: 543
-- Name: DOMAIN _platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON DOMAIN _platiod IS 'Plati OD';


--
-- TOC entry 544 (class 1247 OID 321461)
-- Name: _popis; Type: DOMAIN; Schema: public; Owner: postgres
--

CREATE DOMAIN _popis AS text DEFAULT ' '::text;


ALTER DOMAIN _popis OWNER TO postgres;

--
-- TOC entry 2207 (class 0 OID 0)
-- Dependencies: 544
-- Name: DOMAIN _popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON DOMAIN _popis IS 'Popisne pole';


--
-- TOC entry 545 (class 1247 OID 321462)
-- Name: _timeinsert; Type: DOMAIN; Schema: public; Owner: postgres
--

CREATE DOMAIN _timeinsert AS timestamp without time zone NOT NULL DEFAULT now();


ALTER DOMAIN _timeinsert OWNER TO postgres;

--
-- TOC entry 2208 (class 0 OID 0)
-- Dependencies: 545
-- Name: DOMAIN _timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON DOMAIN _timeinsert IS 'Cas zalozeni zaznamu';


--
-- TOC entry 546 (class 1247 OID 321463)
-- Name: _timemodify; Type: DOMAIN; Schema: public; Owner: postgres
--

CREATE DOMAIN _timemodify AS timestamp without time zone NOT NULL DEFAULT now();


ALTER DOMAIN _timemodify OWNER TO postgres;

--
-- TOC entry 2209 (class 0 OID 0)
-- Dependencies: 546
-- Name: DOMAIN _timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON DOMAIN _timemodify IS 'Cas posledni modifikace zaznamu';


--
-- TOC entry 547 (class 1247 OID 321464)
-- Name: _uzivatel; Type: DOMAIN; Schema: public; Owner: postgres
--

CREATE DOMAIN _uzivatel AS text DEFAULT "current_user"();


ALTER DOMAIN _uzivatel OWNER TO postgres;

--
-- TOC entry 2210 (class 0 OID 0)
-- Dependencies: 547
-- Name: DOMAIN _uzivatel; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON DOMAIN _uzivatel IS 'Uzivatel, ktery provedl posledni modifikaci';


--
-- TOC entry 202 (class 1255 OID 321791)
-- Name: setnewid(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION setnewid() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
if NEW.testid = CAST(0 AS bigint) THEN NEW.testid:= nextval('"GenID"'::text); END IF;
RETURN NEW;
END
$$;


ALTER FUNCTION public.setnewid() OWNER TO postgres;

--
-- TOC entry 2211 (class 0 OID 0)
-- Dependencies: 202
-- Name: FUNCTION setnewid(); Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON FUNCTION setnewid() IS 'Vlozi nove ID';


--
-- TOC entry 201 (class 1255 OID 321465)
-- Name: settimemodify(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION settimemodify() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
	NEW.TimeModify:=now();
	NEW.UserModify:=user ;
	RETURN NEW;
END
$$;


ALTER FUNCTION public.settimemodify() OWNER TO postgres;

--
-- TOC entry 2212 (class 0 OID 0)
-- Dependencies: 201
-- Name: FUNCTION settimemodify(); Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON FUNCTION settimemodify() IS 'Nastavi cas posledni modifikace zaznamu';


--
-- TOC entry 187 (class 1259 OID 321783)
-- Name: GenID; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE "GenID"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE "GenID" OWNER TO postgres;

--
-- TOC entry 2213 (class 0 OID 0)
-- Dependencies: 187
-- Name: SEQUENCE "GenID"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON SEQUENCE "GenID" IS 'Generátor ID';


SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 172 (class 1259 OID 321466)
-- Name: aktivity; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE aktivity (
    id serial NOT NULL,
    idtypakt bigint,
    idoso bigint,
    komentar text,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel,
    testid bigint DEFAULT 0
);


ALTER TABLE aktivity OWNER TO postgres;

--
-- TOC entry 2214 (class 0 OID 0)
-- Dependencies: 172
-- Name: TABLE aktivity; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE aktivity IS 'Aktivita - základní tabulka, poskytující rezervacím a CP jednozančný ID';


--
-- TOC entry 2215 (class 0 OID 0)
-- Dependencies: 172
-- Name: COLUMN aktivity.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN aktivity.id IS 'Identifikátor';


--
-- TOC entry 2216 (class 0 OID 0)
-- Dependencies: 172
-- Name: COLUMN aktivity.idtypakt; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN aktivity.idtypakt IS 'Typ aktivity - cizí klíč';


--
-- TOC entry 2217 (class 0 OID 0)
-- Dependencies: 172
-- Name: COLUMN aktivity.idoso; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN aktivity.idoso IS 'Vlastník akce - relace na tabulku osoby - cizi klic';


--
-- TOC entry 2218 (class 0 OID 0)
-- Dependencies: 172
-- Name: COLUMN aktivity.komentar; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN aktivity.komentar IS 'Komentar k volnemu pouziti';


--
-- TOC entry 2219 (class 0 OID 0)
-- Dependencies: 172
-- Name: COLUMN aktivity.popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN aktivity.popis IS 'Popis aktivity';


--
-- TOC entry 2220 (class 0 OID 0)
-- Dependencies: 172
-- Name: COLUMN aktivity.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN aktivity.platiod IS 'Plati Od';


--
-- TOC entry 2221 (class 0 OID 0)
-- Dependencies: 172
-- Name: COLUMN aktivity.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN aktivity.platido IS 'Plati DO';


--
-- TOC entry 2222 (class 0 OID 0)
-- Dependencies: 172
-- Name: COLUMN aktivity.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN aktivity.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2223 (class 0 OID 0)
-- Dependencies: 172
-- Name: COLUMN aktivity.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN aktivity.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2224 (class 0 OID 0)
-- Dependencies: 172
-- Name: COLUMN aktivity.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN aktivity.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 2225 (class 0 OID 0)
-- Dependencies: 172
-- Name: COLUMN aktivity.testid; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN aktivity.testid IS 'Test ID';


--
-- TOC entry 173 (class 1259 OID 321472)
-- Name: cesta; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE cesta (
    id serial NOT NULL,
    idtypzdr bigint NOT NULL,
    idoso bigint NOT NULL,
    komentar text,
    zaloha numeric,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel
);


ALTER TABLE cesta OWNER TO postgres;

--
-- TOC entry 2226 (class 0 OID 0)
-- Dependencies: 173
-- Name: TABLE cesta; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE cesta IS 'cesta - tabulka cest';


--
-- TOC entry 2227 (class 0 OID 0)
-- Dependencies: 173
-- Name: COLUMN cesta.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN cesta.id IS 'Identifikátor';


--
-- TOC entry 2228 (class 0 OID 0)
-- Dependencies: 173
-- Name: COLUMN cesta.idtypzdr; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN cesta.idtypzdr IS 'Identifikátor typu zdroje cesty - cizi klic (vlak, auto, pěšky atd.)';


--
-- TOC entry 2229 (class 0 OID 0)
-- Dependencies: 173
-- Name: COLUMN cesta.idoso; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN cesta.idoso IS 'ID osoby, která založila cestu';


--
-- TOC entry 2230 (class 0 OID 0)
-- Dependencies: 173
-- Name: COLUMN cesta.komentar; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN cesta.komentar IS 'Komentar k volnemu pouziti';


--
-- TOC entry 2231 (class 0 OID 0)
-- Dependencies: 173
-- Name: COLUMN cesta.zaloha; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN cesta.zaloha IS 'Záloha na cestu';


--
-- TOC entry 2232 (class 0 OID 0)
-- Dependencies: 173
-- Name: COLUMN cesta.popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN cesta.popis IS 'Popis cesty';


--
-- TOC entry 2233 (class 0 OID 0)
-- Dependencies: 173
-- Name: COLUMN cesta.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN cesta.platiod IS 'Plati Od';


--
-- TOC entry 2234 (class 0 OID 0)
-- Dependencies: 173
-- Name: COLUMN cesta.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN cesta.platido IS 'Plati DO';


--
-- TOC entry 2235 (class 0 OID 0)
-- Dependencies: 173
-- Name: COLUMN cesta.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN cesta.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2236 (class 0 OID 0)
-- Dependencies: 173
-- Name: COLUMN cesta.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN cesta.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2237 (class 0 OID 0)
-- Dependencies: 173
-- Name: COLUMN cesta.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN cesta.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 174 (class 1259 OID 321478)
-- Name: dispecerhl; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE dispecerhl (
    id serial NOT NULL,
    idoso bigint NOT NULL,
    idtypschv bigint NOT NULL,
    idtypzdr bigint NOT NULL,
    iddisphl bigint,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel
);


ALTER TABLE dispecerhl OWNER TO postgres;

--
-- TOC entry 2238 (class 0 OID 0)
-- Dependencies: 174
-- Name: TABLE dispecerhl; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE dispecerhl IS 'Seznam dispeceru v zavislosti na pozici (Vedouci, Dispecer, Zastupce) pro jaky zdroj';


--
-- TOC entry 2239 (class 0 OID 0)
-- Dependencies: 174
-- Name: COLUMN dispecerhl.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerhl.id IS 'Identifikátor';


--
-- TOC entry 2240 (class 0 OID 0)
-- Dependencies: 174
-- Name: COLUMN dispecerhl.idoso; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerhl.idoso IS 'ID dispecera z tabulky osob';


--
-- TOC entry 2241 (class 0 OID 0)
-- Dependencies: 174
-- Name: COLUMN dispecerhl.idtypschv; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerhl.idtypschv IS 'ID na typ schvalovani napr. Dispecer,Vedouci odd,Tajemnik';


--
-- TOC entry 2242 (class 0 OID 0)
-- Dependencies: 174
-- Name: COLUMN dispecerhl.idtypzdr; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerhl.idtypzdr IS 'ID na typ zdroje napr. osoba-podrizeny, monitor, zasedacka, ktere může řídit - schvalovat';


--
-- TOC entry 2243 (class 0 OID 0)
-- Dependencies: 174
-- Name: COLUMN dispecerhl.iddisphl; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerhl.iddisphl IS 'ID nadrizeneho dispecera v pripade, že se nyní jedná o zástupce jinak NULL';


--
-- TOC entry 2244 (class 0 OID 0)
-- Dependencies: 174
-- Name: COLUMN dispecerhl.popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerhl.popis IS 'Libovolny popis';


--
-- TOC entry 2245 (class 0 OID 0)
-- Dependencies: 174
-- Name: COLUMN dispecerhl.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerhl.platiod IS 'Plati Od';


--
-- TOC entry 2246 (class 0 OID 0)
-- Dependencies: 174
-- Name: COLUMN dispecerhl.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerhl.platido IS 'Plati DO';


--
-- TOC entry 2247 (class 0 OID 0)
-- Dependencies: 174
-- Name: COLUMN dispecerhl.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerhl.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2248 (class 0 OID 0)
-- Dependencies: 174
-- Name: COLUMN dispecerhl.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerhl.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2249 (class 0 OID 0)
-- Dependencies: 174
-- Name: COLUMN dispecerhl.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerhl.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 175 (class 1259 OID 321484)
-- Name: dispecerpol; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE dispecerpol (
    id serial NOT NULL,
    iddisphl bigint NOT NULL,
    idoso bigint,
    idzdr bigint,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel
);


ALTER TABLE dispecerpol OWNER TO postgres;

--
-- TOC entry 2250 (class 0 OID 0)
-- Dependencies: 175
-- Name: TABLE dispecerpol; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE dispecerpol IS 'Seznam polozek, které bude mít dispečer na starosti - spravovat';


--
-- TOC entry 2251 (class 0 OID 0)
-- Dependencies: 175
-- Name: COLUMN dispecerpol.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerpol.id IS 'Identifikátor';


--
-- TOC entry 2252 (class 0 OID 0)
-- Dependencies: 175
-- Name: COLUMN dispecerpol.iddisphl; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerpol.iddisphl IS 'ID dispecera z tabulky dispecerhl';


--
-- TOC entry 2253 (class 0 OID 0)
-- Dependencies: 175
-- Name: COLUMN dispecerpol.idoso; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerpol.idoso IS 'ID osoby pokud se bude jednat o podrizene, v pripade techniky je zde NULL';


--
-- TOC entry 2254 (class 0 OID 0)
-- Dependencies: 175
-- Name: COLUMN dispecerpol.idzdr; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerpol.idzdr IS 'ID  zdroje pokud se bude jednat o techniku (auta, místnosti, projektory), v pripade osob je zde NULL';


--
-- TOC entry 2255 (class 0 OID 0)
-- Dependencies: 175
-- Name: COLUMN dispecerpol.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerpol.platiod IS 'Plati Od';


--
-- TOC entry 2256 (class 0 OID 0)
-- Dependencies: 175
-- Name: COLUMN dispecerpol.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerpol.platido IS 'Plati DO';


--
-- TOC entry 2257 (class 0 OID 0)
-- Dependencies: 175
-- Name: COLUMN dispecerpol.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerpol.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2258 (class 0 OID 0)
-- Dependencies: 175
-- Name: COLUMN dispecerpol.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerpol.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2259 (class 0 OID 0)
-- Dependencies: 175
-- Name: COLUMN dispecerpol.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN dispecerpol.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 176 (class 1259 OID 321490)
-- Name: log; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE log (
    id serial NOT NULL,
    idakt bigint NOT NULL,
    idzdr bigint NOT NULL,
    idcest bigint,
    idrez bigint,
    iducast bigint,
    idoso bigint,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel
);


ALTER TABLE log OWNER TO postgres;

--
-- TOC entry 2260 (class 0 OID 0)
-- Dependencies: 176
-- Name: TABLE log; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE log IS 'Log - tabulka logujici aktivity nad ruznymi tabulkami';


--
-- TOC entry 2261 (class 0 OID 0)
-- Dependencies: 176
-- Name: COLUMN log.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN log.id IS 'Identifikátor';


--
-- TOC entry 2262 (class 0 OID 0)
-- Dependencies: 176
-- Name: COLUMN log.idakt; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN log.idakt IS 'Identifikátor aktivity - cizi klic';


--
-- TOC entry 2263 (class 0 OID 0)
-- Dependencies: 176
-- Name: COLUMN log.idzdr; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN log.idzdr IS 'Identifikátor zdroje - cizi klic';


--
-- TOC entry 2264 (class 0 OID 0)
-- Dependencies: 176
-- Name: COLUMN log.idcest; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN log.idcest IS 'ID na tabulku cesty - cizi klic';


--
-- TOC entry 2265 (class 0 OID 0)
-- Dependencies: 176
-- Name: COLUMN log.idrez; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN log.idrez IS 'ID na tabulku rezervaci - cizi klic';


--
-- TOC entry 2266 (class 0 OID 0)
-- Dependencies: 176
-- Name: COLUMN log.iducast; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN log.iducast IS 'ID na tabulku ucastniku - cizi klic';


--
-- TOC entry 2267 (class 0 OID 0)
-- Dependencies: 176
-- Name: COLUMN log.idoso; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN log.idoso IS 'ID na tabulku osob - cizi klic';


--
-- TOC entry 2268 (class 0 OID 0)
-- Dependencies: 176
-- Name: COLUMN log.popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN log.popis IS 'Popis log';


--
-- TOC entry 2269 (class 0 OID 0)
-- Dependencies: 176
-- Name: COLUMN log.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN log.platiod IS 'Plati Od';


--
-- TOC entry 2270 (class 0 OID 0)
-- Dependencies: 176
-- Name: COLUMN log.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN log.platido IS 'Plati DO';


--
-- TOC entry 2271 (class 0 OID 0)
-- Dependencies: 176
-- Name: COLUMN log.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN log.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2272 (class 0 OID 0)
-- Dependencies: 176
-- Name: COLUMN log.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN log.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2273 (class 0 OID 0)
-- Dependencies: 176
-- Name: COLUMN log.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN log.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 177 (class 1259 OID 321496)
-- Name: osoba; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE osoba (
    id serial NOT NULL,
    name text,
    password text,
    extid integer,
    komentar text,
    skupina text DEFAULT 'USER'::text NOT NULL,
    email text DEFAULT '@mukrnov.cz'::text,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel
);


ALTER TABLE osoba OWNER TO postgres;

--
-- TOC entry 2274 (class 0 OID 0)
-- Dependencies: 177
-- Name: TABLE osoba; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE osoba IS 'Seznam osob
- jméno a heslo bude použito pro autorizaci';


--
-- TOC entry 2275 (class 0 OID 0)
-- Dependencies: 177
-- Name: COLUMN osoba.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN osoba.id IS 'Identifikátor';


--
-- TOC entry 2276 (class 0 OID 0)
-- Dependencies: 177
-- Name: COLUMN osoba.name; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN osoba.name IS 'Jméno osoby - uživatele';


--
-- TOC entry 2277 (class 0 OID 0)
-- Dependencies: 177
-- Name: COLUMN osoba.password; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN osoba.password IS 'Heslo osoby-uživatele uloženo v SHA-256';


--
-- TOC entry 2278 (class 0 OID 0)
-- Dependencies: 177
-- Name: COLUMN osoba.extid; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN osoba.extid IS 'ID na externí tabulku s uživatelskými daty';


--
-- TOC entry 2279 (class 0 OID 0)
-- Dependencies: 177
-- Name: COLUMN osoba.komentar; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN osoba.komentar IS 'Komentar k volnemu pouziti';


--
-- TOC entry 2280 (class 0 OID 0)
-- Dependencies: 177
-- Name: COLUMN osoba.skupina; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN osoba.skupina IS 'Skupina oprávnění pro JdbcRealmAktivity';


--
-- TOC entry 2281 (class 0 OID 0)
-- Dependencies: 177
-- Name: COLUMN osoba.email; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN osoba.email IS 'Emailova schranka osoby';


--
-- TOC entry 2282 (class 0 OID 0)
-- Dependencies: 177
-- Name: COLUMN osoba.popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN osoba.popis IS 'Prijmeni, jmeno, titul';


--
-- TOC entry 2283 (class 0 OID 0)
-- Dependencies: 177
-- Name: COLUMN osoba.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN osoba.platiod IS 'Plati Od';


--
-- TOC entry 2284 (class 0 OID 0)
-- Dependencies: 177
-- Name: COLUMN osoba.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN osoba.platido IS 'Plati DO';


--
-- TOC entry 2285 (class 0 OID 0)
-- Dependencies: 177
-- Name: COLUMN osoba.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN osoba.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2286 (class 0 OID 0)
-- Dependencies: 177
-- Name: COLUMN osoba.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN osoba.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2287 (class 0 OID 0)
-- Dependencies: 177
-- Name: COLUMN osoba.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN osoba.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 178 (class 1259 OID 321504)
-- Name: rezervace; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE rezervace (
    id serial NOT NULL,
    idakt bigint,
    idcest bigint,
    idzdr bigint NOT NULL,
    komentar text,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel
);


ALTER TABLE rezervace OWNER TO postgres;

--
-- TOC entry 2288 (class 0 OID 0)
-- Dependencies: 178
-- Name: TABLE rezervace; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE rezervace IS 'rezervace - tabulka rezervaci';


--
-- TOC entry 2289 (class 0 OID 0)
-- Dependencies: 178
-- Name: COLUMN rezervace.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN rezervace.id IS 'Identifikátor';


--
-- TOC entry 2290 (class 0 OID 0)
-- Dependencies: 178
-- Name: COLUMN rezervace.idakt; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN rezervace.idakt IS 'Identifikátor aktivity - cizi klic (muze byt i NULL=bez aktivity)';


--
-- TOC entry 2291 (class 0 OID 0)
-- Dependencies: 178
-- Name: COLUMN rezervace.idcest; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN rezervace.idcest IS 'Identifikátor cesty - cizi klic (muze byt i NULL=bez cesty)';


--
-- TOC entry 2292 (class 0 OID 0)
-- Dependencies: 178
-- Name: COLUMN rezervace.idzdr; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN rezervace.idzdr IS 'Identifikátor rezervovaneho zdroje - cizi klic ';


--
-- TOC entry 2293 (class 0 OID 0)
-- Dependencies: 178
-- Name: COLUMN rezervace.komentar; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN rezervace.komentar IS 'Komentar k volnemu pouziti';


--
-- TOC entry 2294 (class 0 OID 0)
-- Dependencies: 178
-- Name: COLUMN rezervace.popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN rezervace.popis IS 'Popis rezervace';


--
-- TOC entry 2295 (class 0 OID 0)
-- Dependencies: 178
-- Name: COLUMN rezervace.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN rezervace.platiod IS 'Plati Od';


--
-- TOC entry 2296 (class 0 OID 0)
-- Dependencies: 178
-- Name: COLUMN rezervace.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN rezervace.platido IS 'Plati DO';


--
-- TOC entry 2297 (class 0 OID 0)
-- Dependencies: 178
-- Name: COLUMN rezervace.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN rezervace.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2298 (class 0 OID 0)
-- Dependencies: 178
-- Name: COLUMN rezervace.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN rezervace.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2299 (class 0 OID 0)
-- Dependencies: 178
-- Name: COLUMN rezervace.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN rezervace.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 179 (class 1259 OID 321510)
-- Name: schvaleni; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE schvaleni (
    id serial NOT NULL,
    idtypschv bigint NOT NULL,
    idoso bigint NOT NULL,
    idcest bigint,
    iducast bigint,
    idrez bigint,
    stav integer DEFAULT 0,
    komentar text,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel
);


ALTER TABLE schvaleni OWNER TO postgres;

--
-- TOC entry 2300 (class 0 OID 0)
-- Dependencies: 179
-- Name: TABLE schvaleni; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE schvaleni IS 'Tabulka schvalovatelu cesty, uživatelů a rezervací';


--
-- TOC entry 2301 (class 0 OID 0)
-- Dependencies: 179
-- Name: COLUMN schvaleni.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN schvaleni.id IS 'Identifikátor';


--
-- TOC entry 2302 (class 0 OID 0)
-- Dependencies: 179
-- Name: COLUMN schvaleni.idtypschv; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN schvaleni.idtypschv IS 'ID typu schvalovatele-ciselnik typu schvalovatelu';


--
-- TOC entry 2303 (class 0 OID 0)
-- Dependencies: 179
-- Name: COLUMN schvaleni.idoso; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN schvaleni.idoso IS 'ID osoby schvalovatele z tabulky osoby';


--
-- TOC entry 2304 (class 0 OID 0)
-- Dependencies: 179
-- Name: COLUMN schvaleni.idcest; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN schvaleni.idcest IS 'ID cesty, kterou schvalovatel schvaluje';


--
-- TOC entry 2305 (class 0 OID 0)
-- Dependencies: 179
-- Name: COLUMN schvaleni.iducast; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN schvaleni.iducast IS 'ID - odkaz na tabulku účastníků cesty';


--
-- TOC entry 2306 (class 0 OID 0)
-- Dependencies: 179
-- Name: COLUMN schvaleni.idrez; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN schvaleni.idrez IS 'ID - odkaz na tabulku rezervaci';


--
-- TOC entry 2307 (class 0 OID 0)
-- Dependencies: 179
-- Name: COLUMN schvaleni.komentar; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN schvaleni.komentar IS 'Komentar k volnemu pouziti';


--
-- TOC entry 2308 (class 0 OID 0)
-- Dependencies: 179
-- Name: COLUMN schvaleni.popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN schvaleni.popis IS 'Popis zdroje';


--
-- TOC entry 2309 (class 0 OID 0)
-- Dependencies: 179
-- Name: COLUMN schvaleni.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN schvaleni.platiod IS 'Plati Od';


--
-- TOC entry 2310 (class 0 OID 0)
-- Dependencies: 179
-- Name: COLUMN schvaleni.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN schvaleni.platido IS 'Plati DO';


--
-- TOC entry 2311 (class 0 OID 0)
-- Dependencies: 179
-- Name: COLUMN schvaleni.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN schvaleni.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2312 (class 0 OID 0)
-- Dependencies: 179
-- Name: COLUMN schvaleni.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN schvaleni.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2313 (class 0 OID 0)
-- Dependencies: 179
-- Name: COLUMN schvaleni.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN schvaleni.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 180 (class 1259 OID 321517)
-- Name: skupina; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE skupina (
    id serial NOT NULL,
    name text,
    skupina text,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel
);


ALTER TABLE skupina OWNER TO postgres;

--
-- TOC entry 2314 (class 0 OID 0)
-- Dependencies: 180
-- Name: TABLE skupina; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE skupina IS 'Seznam skupin oprávnění pro JdbcRealmAktivity';


--
-- TOC entry 2315 (class 0 OID 0)
-- Dependencies: 180
-- Name: COLUMN skupina.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN skupina.id IS 'Identifikátor';


--
-- TOC entry 2316 (class 0 OID 0)
-- Dependencies: 180
-- Name: COLUMN skupina.name; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN skupina.name IS 'Jméno osoby - uživatele';


--
-- TOC entry 2317 (class 0 OID 0)
-- Dependencies: 180
-- Name: COLUMN skupina.skupina; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN skupina.skupina IS 'Skupina oprávnění pro JdbcRealmAktivity';


--
-- TOC entry 2318 (class 0 OID 0)
-- Dependencies: 180
-- Name: COLUMN skupina.popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN skupina.popis IS 'Popis skupiny';


--
-- TOC entry 2319 (class 0 OID 0)
-- Dependencies: 180
-- Name: COLUMN skupina.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN skupina.platiod IS 'Plati Od';


--
-- TOC entry 2320 (class 0 OID 0)
-- Dependencies: 180
-- Name: COLUMN skupina.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN skupina.platido IS 'Plati DO';


--
-- TOC entry 2321 (class 0 OID 0)
-- Dependencies: 180
-- Name: COLUMN skupina.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN skupina.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2322 (class 0 OID 0)
-- Dependencies: 180
-- Name: COLUMN skupina.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN skupina.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2323 (class 0 OID 0)
-- Dependencies: 180
-- Name: COLUMN skupina.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN skupina.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 181 (class 1259 OID 321523)
-- Name: typaktivity; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE typaktivity (
    id serial NOT NULL,
    typakt integer,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel
);


ALTER TABLE typaktivity OWNER TO postgres;

--
-- TOC entry 2324 (class 0 OID 0)
-- Dependencies: 181
-- Name: TABLE typaktivity; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE typaktivity IS 'Číselník typů aktivity
0 - služební cesta
1 - pouze rezervace zdroje';


--
-- TOC entry 2325 (class 0 OID 0)
-- Dependencies: 181
-- Name: COLUMN typaktivity.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typaktivity.id IS 'ID typu aktivity';


--
-- TOC entry 2326 (class 0 OID 0)
-- Dependencies: 181
-- Name: COLUMN typaktivity.typakt; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typaktivity.typakt IS 'Typ aktivity';


--
-- TOC entry 2327 (class 0 OID 0)
-- Dependencies: 181
-- Name: COLUMN typaktivity.popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typaktivity.popis IS 'Popis typu aktivity';


--
-- TOC entry 2328 (class 0 OID 0)
-- Dependencies: 181
-- Name: COLUMN typaktivity.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typaktivity.platiod IS 'Plati Od';


--
-- TOC entry 2329 (class 0 OID 0)
-- Dependencies: 181
-- Name: COLUMN typaktivity.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typaktivity.platido IS 'Plati DO';


--
-- TOC entry 2330 (class 0 OID 0)
-- Dependencies: 181
-- Name: COLUMN typaktivity.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typaktivity.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2331 (class 0 OID 0)
-- Dependencies: 181
-- Name: COLUMN typaktivity.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typaktivity.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2332 (class 0 OID 0)
-- Dependencies: 181
-- Name: COLUMN typaktivity.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typaktivity.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 182 (class 1259 OID 321529)
-- Name: typschv; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE typschv (
    id serial NOT NULL,
    typschv text DEFAULT ' '::text NOT NULL,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel
);


ALTER TABLE typschv OWNER TO postgres;

--
-- TOC entry 2333 (class 0 OID 0)
-- Dependencies: 182
-- Name: TABLE typschv; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE typschv IS 'Číselník typů schvalovani
A - administrator
T - tajemnik
VO - vedouci odboru 
Vodd - vedouci odboru
Z - zastupce
D - dispecer';


--
-- TOC entry 2334 (class 0 OID 0)
-- Dependencies: 182
-- Name: COLUMN typschv.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typschv.id IS 'ID typu schvalovani';


--
-- TOC entry 2335 (class 0 OID 0)
-- Dependencies: 182
-- Name: COLUMN typschv.typschv; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typschv.typschv IS 'Číselník typů schvalovani
A - administrator
T - tajemnik
VO - vedouci odboru 
Vodd - vedouci odboru
Z - zastupce
D - dispecer';


--
-- TOC entry 2336 (class 0 OID 0)
-- Dependencies: 182
-- Name: COLUMN typschv.popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typschv.popis IS 'Popis typu schvalovani';


--
-- TOC entry 2337 (class 0 OID 0)
-- Dependencies: 182
-- Name: COLUMN typschv.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typschv.platiod IS 'Plati Od';


--
-- TOC entry 2338 (class 0 OID 0)
-- Dependencies: 182
-- Name: COLUMN typschv.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typschv.platido IS 'Plati DO';


--
-- TOC entry 2339 (class 0 OID 0)
-- Dependencies: 182
-- Name: COLUMN typschv.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typschv.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2340 (class 0 OID 0)
-- Dependencies: 182
-- Name: COLUMN typschv.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typschv.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2341 (class 0 OID 0)
-- Dependencies: 182
-- Name: COLUMN typschv.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typschv.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 183 (class 1259 OID 321536)
-- Name: typucast; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE typucast (
    id serial NOT NULL,
    typucast integer,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel
);


ALTER TABLE typucast OWNER TO postgres;

--
-- TOC entry 2342 (class 0 OID 0)
-- Dependencies: 183
-- Name: TABLE typucast; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE typucast IS 'Číselník typů ucatniku
0 - ridic 1 - spolujezdec 2-organizator 3-ucatnik';


--
-- TOC entry 2343 (class 0 OID 0)
-- Dependencies: 183
-- Name: COLUMN typucast.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typucast.id IS 'ID typu ucatnika';


--
-- TOC entry 2344 (class 0 OID 0)
-- Dependencies: 183
-- Name: COLUMN typucast.typucast; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typucast.typucast IS 'Typ ucatnika 0 - ridic 1 - spolujezdec 2-organizator 3-ucatnik ';


--
-- TOC entry 2345 (class 0 OID 0)
-- Dependencies: 183
-- Name: COLUMN typucast.popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typucast.popis IS 'Popis typu ucatnika';


--
-- TOC entry 2346 (class 0 OID 0)
-- Dependencies: 183
-- Name: COLUMN typucast.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typucast.platiod IS 'Plati Od';


--
-- TOC entry 2347 (class 0 OID 0)
-- Dependencies: 183
-- Name: COLUMN typucast.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typucast.platido IS 'Plati DO';


--
-- TOC entry 2348 (class 0 OID 0)
-- Dependencies: 183
-- Name: COLUMN typucast.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typucast.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2349 (class 0 OID 0)
-- Dependencies: 183
-- Name: COLUMN typucast.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typucast.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2350 (class 0 OID 0)
-- Dependencies: 183
-- Name: COLUMN typucast.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typucast.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 184 (class 1259 OID 321542)
-- Name: typzdroje; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE typzdroje (
    id serial NOT NULL,
    typzdr integer,
    cesta integer,
    rezervace integer,
    osoba integer,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel
);


ALTER TABLE typzdroje OWNER TO postgres;

--
-- TOC entry 2351 (class 0 OID 0)
-- Dependencies: 184
-- Name: TABLE typzdroje; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE typzdroje IS 'Číselník typů zdrojů
0 - vozidla
1 - místnosti
2 - dopravní prostředky jiné
3 - výpočetní technika 
4 - ostatní';


--
-- TOC entry 2352 (class 0 OID 0)
-- Dependencies: 184
-- Name: COLUMN typzdroje.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typzdroje.id IS 'ID typu zdroje';


--
-- TOC entry 2353 (class 0 OID 0)
-- Dependencies: 184
-- Name: COLUMN typzdroje.typzdr; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typzdroje.typzdr IS 'Typ zdroje';


--
-- TOC entry 2354 (class 0 OID 0)
-- Dependencies: 184
-- Name: COLUMN typzdroje.cesta; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typzdroje.cesta IS 'Zdroj je mozne pouzit na cestu 0/1 (pesky, kolo, vlak, autobus, auto)';


--
-- TOC entry 2355 (class 0 OID 0)
-- Dependencies: 184
-- Name: COLUMN typzdroje.rezervace; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typzdroje.rezervace IS 'Zdroj je mozne rezervovat 0/1';


--
-- TOC entry 2356 (class 0 OID 0)
-- Dependencies: 184
-- Name: COLUMN typzdroje.osoba; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typzdroje.osoba IS 'Zdroj je osoba 0/1 - hodnota se vyuziva u dispeceru, co se ma nabidnout';


--
-- TOC entry 2357 (class 0 OID 0)
-- Dependencies: 184
-- Name: COLUMN typzdroje.popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typzdroje.popis IS 'Popis typu zdroje';


--
-- TOC entry 2358 (class 0 OID 0)
-- Dependencies: 184
-- Name: COLUMN typzdroje.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typzdroje.platiod IS 'Plati Od';


--
-- TOC entry 2359 (class 0 OID 0)
-- Dependencies: 184
-- Name: COLUMN typzdroje.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typzdroje.platido IS 'Plati DO';


--
-- TOC entry 2360 (class 0 OID 0)
-- Dependencies: 184
-- Name: COLUMN typzdroje.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typzdroje.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2361 (class 0 OID 0)
-- Dependencies: 184
-- Name: COLUMN typzdroje.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typzdroje.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2362 (class 0 OID 0)
-- Dependencies: 184
-- Name: COLUMN typzdroje.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN typzdroje.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 185 (class 1259 OID 321548)
-- Name: ucastnik; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE ucastnik (
    id serial NOT NULL,
    idoso bigint NOT NULL,
    idtypucast bigint,
    idcest bigint,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel
);


ALTER TABLE ucastnik OWNER TO postgres;

--
-- TOC entry 2363 (class 0 OID 0)
-- Dependencies: 185
-- Name: TABLE ucastnik; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE ucastnik IS 'ucastnik - tabulka ucastniku';


--
-- TOC entry 2364 (class 0 OID 0)
-- Dependencies: 185
-- Name: COLUMN ucastnik.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN ucastnik.id IS 'Identifikátor';


--
-- TOC entry 2365 (class 0 OID 0)
-- Dependencies: 185
-- Name: COLUMN ucastnik.idoso; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN ucastnik.idoso IS 'Identifikátor osoby - cizi klic';


--
-- TOC entry 2366 (class 0 OID 0)
-- Dependencies: 185
-- Name: COLUMN ucastnik.idtypucast; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN ucastnik.idtypucast IS 'Odkaz na ciselnik typu ucatniku';


--
-- TOC entry 2367 (class 0 OID 0)
-- Dependencies: 185
-- Name: COLUMN ucastnik.idcest; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN ucastnik.idcest IS 'Odkaz na cestu';


--
-- TOC entry 2368 (class 0 OID 0)
-- Dependencies: 185
-- Name: COLUMN ucastnik.popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN ucastnik.popis IS 'Popis cesty';


--
-- TOC entry 2369 (class 0 OID 0)
-- Dependencies: 185
-- Name: COLUMN ucastnik.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN ucastnik.platiod IS 'Plati Od';


--
-- TOC entry 2370 (class 0 OID 0)
-- Dependencies: 185
-- Name: COLUMN ucastnik.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN ucastnik.platido IS 'Plati DO';


--
-- TOC entry 2371 (class 0 OID 0)
-- Dependencies: 185
-- Name: COLUMN ucastnik.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN ucastnik.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2372 (class 0 OID 0)
-- Dependencies: 185
-- Name: COLUMN ucastnik.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN ucastnik.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2373 (class 0 OID 0)
-- Dependencies: 185
-- Name: COLUMN ucastnik.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN ucastnik.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 186 (class 1259 OID 321554)
-- Name: zdroj; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE zdroj (
    id serial NOT NULL,
    idtypzdr bigint NOT NULL,
    idoso bigint NOT NULL,
    spz text,
    komentar text,
    kapacita integer,
    popis _popis,
    platiod _platiod,
    platido _platido,
    timeinsert _timeinsert,
    timemodify _timemodify,
    usermodify _uzivatel
);


ALTER TABLE zdroj OWNER TO postgres;

--
-- TOC entry 2374 (class 0 OID 0)
-- Dependencies: 186
-- Name: TABLE zdroj; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE zdroj IS 'Zdroj - tabulka zdroju, vozidla a ostatni';


--
-- TOC entry 2375 (class 0 OID 0)
-- Dependencies: 186
-- Name: COLUMN zdroj.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN zdroj.id IS 'Identifikátor';


--
-- TOC entry 2376 (class 0 OID 0)
-- Dependencies: 186
-- Name: COLUMN zdroj.idtypzdr; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN zdroj.idtypzdr IS 'Identifikátor typu zdroje - cizi klic';


--
-- TOC entry 2377 (class 0 OID 0)
-- Dependencies: 186
-- Name: COLUMN zdroj.idoso; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN zdroj.idoso IS 'Identifikátor osoby, svazane s vozidlem - vetsinou podnikovy ridic';


--
-- TOC entry 2378 (class 0 OID 0)
-- Dependencies: 186
-- Name: COLUMN zdroj.spz; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN zdroj.spz IS 'SPZ vozidla';


--
-- TOC entry 2379 (class 0 OID 0)
-- Dependencies: 186
-- Name: COLUMN zdroj.komentar; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN zdroj.komentar IS 'Komentar k volnemu pouziti';


--
-- TOC entry 2380 (class 0 OID 0)
-- Dependencies: 186
-- Name: COLUMN zdroj.kapacita; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN zdroj.kapacita IS 'Kapacita zdroje (pocet cestujicich, kapacita zasedacky, ap. )';


--
-- TOC entry 2381 (class 0 OID 0)
-- Dependencies: 186
-- Name: COLUMN zdroj.popis; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN zdroj.popis IS 'Popis zdroje';


--
-- TOC entry 2382 (class 0 OID 0)
-- Dependencies: 186
-- Name: COLUMN zdroj.platiod; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN zdroj.platiod IS 'Plati Od';


--
-- TOC entry 2383 (class 0 OID 0)
-- Dependencies: 186
-- Name: COLUMN zdroj.platido; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN zdroj.platido IS 'Plati DO';


--
-- TOC entry 2384 (class 0 OID 0)
-- Dependencies: 186
-- Name: COLUMN zdroj.timeinsert; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN zdroj.timeinsert IS 'Cas vlozeni zaznamu';


--
-- TOC entry 2385 (class 0 OID 0)
-- Dependencies: 186
-- Name: COLUMN zdroj.timemodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN zdroj.timemodify IS 'Cas posledni zmeny zaznamu';


--
-- TOC entry 2386 (class 0 OID 0)
-- Dependencies: 186
-- Name: COLUMN zdroj.usermodify; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN zdroj.usermodify IS 'Uzivatel, ktery posledni modifikoval zaznam.';


--
-- TOC entry 2387 (class 0 OID 0)
-- Dependencies: 187
-- Name: GenID; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('"GenID"', 1, true);


--
-- TOC entry 2180 (class 0 OID 321466)
-- Dependencies: 172
-- Data for Name: aktivity; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO aktivity (id, idtypakt, idoso, komentar, popis, platiod, platido, timeinsert, timemodify, usermodify, testid) VALUES (1, NULL, NULL, 'R', 'Služební cesta', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-03 21:06:43.394', '2017-12-19 23:16:30.841', 'postgres', 1);
INSERT INTO aktivity (id, idtypakt, idoso, komentar, popis, platiod, platido, timeinsert, timemodify, usermodify, testid) VALUES (2, NULL, NULL, 'T', 'Seminář GDPR', '2017-01-01 00:00:00', '2099-02-01 00:00:00', '2017-05-04 13:42:33.016', '2017-12-19 23:16:51.513', 'postgres', 2);


--
-- TOC entry 2181 (class 0 OID 321472)
-- Dependencies: 173
-- Data for Name: cesta; Type: TABLE DATA; Schema: public; Owner: postgres
--


--
-- TOC entry 2182 (class 0 OID 321478)
-- Dependencies: 174
-- Data for Name: dispecerhl; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 2183 (class 0 OID 321484)
-- Dependencies: 175
-- Data for Name: dispecerpol; Type: TABLE DATA; Schema: public; Owner: postgres
--


--
-- TOC entry 2184 (class 0 OID 321490)
-- Dependencies: 176
-- Data for Name: log; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 2185 (class 0 OID 321496)
-- Dependencies: 177
-- Data for Name: osoba; Type: TABLE DATA; Schema: public; Owner: postgres
--


INSERT INTO osoba (id, name, password, extid, komentar, skupina, email, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (1, 'tajemnik', '0bfcc170a7d9933b0555bf382435a9a8', 1, '', 'USER', NULL, NULL, '2017-01-01 14:22:56.884', '2100-12-31 14:22:56.884', '2017-08-17 14:23:15.365', '2017-11-24 12:29:30.367', 'postgres');
INSERT INTO osoba (id, name, password, extid, komentar, skupina, email, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (2, 'admin', '21232f297a57a5a743894a0e4a801fc3', NULL, '', 'USER', NULL, 'Administrátor', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-27 00:25:57.201', '2017-11-24 12:29:30.367', 'postgres');
INSERT INTO osoba (id, name, password, extid, komentar, skupina, email, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (3, 'bazakasn', '141308be2d389d8e2fd51f1839e9d872', 219, '', 'USER', 'nbazakas@mukrnov.cz', 'Bazakas Nikolas', '2017-01-01 14:22:56.884', '2100-12-31 14:22:56.884', '2017-08-17 14:23:22.459', '2017-11-24 12:29:30.367', 'postgres');
INSERT INTO osoba (id, name, password, extid, komentar, skupina, email, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (4, 'kenisova', 'af3d6c25fd83baac19265daafc91a2a8', 222, '', 'USER', 'akenisova@mukrnov.cz', 'Kenisová Antonie', '2017-01-01 14:22:56.884', '2100-12-31 14:22:56.884', '2017-08-17 14:23:22.657', '2017-11-24 12:29:30.367', 'postgres');
INSERT INTO osoba (id, name, password, extid, komentar, skupina, email, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (5, 'ANONYMOUS', '294de3557d9d00b3d2d8a1e6aab028cf', NULL, '', 'USER', NULL, 'ANONYMOUS', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-13 23:02:10.519', '2017-11-24 12:29:30.367', 'postgres');
INSERT INTO osoba (id, name, password, extid, komentar, skupina, email, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (6, 'default', 'd41d8cd98f00b204e9800998ecf8427e', NULL, NULL, 'USER', '@mukrnov.cz', ' default', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-11-24 14:53:17.23', '2017-11-24 14:56:12.464', 'postgres');
INSERT INTO osoba (id, name, password, extid, komentar, skupina, email, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (7, 'sosyn', '07a88e756847244f3496f63f473d6085', 21, '', 'USER', 'isosyn@mukrnov.cz', 'Sosýn Ivo Ing.', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-27 00:31:57.88', '2017-11-24 12:29:30.367', 'postgres');


--
-- TOC entry 2186 (class 0 OID 321504)
-- Dependencies: 178
-- Data for Name: rezervace; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 2187 (class 0 OID 321510)
-- Dependencies: 179
-- Data for Name: schvaleni; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 2188 (class 0 OID 321517)
-- Dependencies: 180
-- Data for Name: skupina; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 2189 (class 0 OID 321523)
-- Dependencies: 181
-- Data for Name: typaktivity; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO typaktivity (id, typakt, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (1, 0, 'Služební cesta', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-22 22:23:26.188', '2017-05-22 22:23:40.749', 'postgres');
INSERT INTO typaktivity (id, typakt, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (2, 1, 'Rezervace zdrojů, jiných než vozidel', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-22 14:07:17.4', '2017-05-24 14:32:17.447', 'postgres');


--
-- TOC entry 2190 (class 0 OID 321529)
-- Dependencies: 182
-- Data for Name: typschv; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO typschv (id, typschv, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (1, 'A', 'Administrátor', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-24 14:23:10.809', '2017-05-24 14:23:20.198', 'postgres');
INSERT INTO typschv (id, typschv, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (2, 'T', 'Tajemník MěÚ Krnov', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-24 14:23:29.911', '2017-05-24 14:23:45.894', 'postgres');
INSERT INTO typschv (id, typschv, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (3, 'VO', 'Vedoucí odboru', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:31:34.261', '2017-06-20 16:31:50.82', 'postgres');


--
-- TOC entry 2191 (class 0 OID 321536)
-- Dependencies: 183
-- Data for Name: typucast; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO typucast (id, typucast, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (1, 1, 'Spolujezdec', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-24 12:45:56.59', '2017-05-24 12:46:07.448', 'postgres');
INSERT INTO typucast (id, typucast, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (2, 0, 'Řidič', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-24 12:43:33.377', '2017-05-24 12:46:34.973', 'postgres');
INSERT INTO typucast (id, typucast, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (3, 0, 'Řidič cizího vozidla', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-24 12:46:39.299', '2017-05-24 12:46:42.867', 'postgres');
INSERT INTO typucast (id, typucast, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (4, 1, 'Spolujezdec v cizím vozidle', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-24 12:47:16.238', '2017-05-24 12:47:49.916', 'postgres');
INSERT INTO typucast (id, typucast, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (5, 1, 'Spolujezdec cizí osoba', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-24 12:47:54.948', '2017-05-24 12:48:19.423', 'postgres');
INSERT INTO typucast (id, typucast, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (6, 2, 'Organizátor akce', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-24 12:49:02.947', '2017-05-24 12:49:17.711', 'postgres');
INSERT INTO typucast (id, typucast, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (7, 3, 'Účastník akce', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-24 12:49:19.936', '2017-05-24 12:49:30.969', 'postgres');
INSERT INTO typucast (id, typucast, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (8, 4, 'Uživatel techniky', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-24 12:49:46.786', '2017-05-24 12:50:03.359', 'postgres');


--
-- TOC entry 2192 (class 0 OID 321542)
-- Dependencies: 184
-- Data for Name: typzdroje; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO typzdroje (id, typzdr, cesta, rezervace, osoba, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (1, 0, 0, 0, NULL, 'Vozidlo soukromé', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-05-11 20:25:17', '2017-06-20 16:29:34.143', 'postgres');
INSERT INTO typzdroje (id, typzdr, cesta, rezervace, osoba, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (2, 1, 1, 0, NULL, 'Zasedací místnost', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:30:16.492', '2017-06-20 16:36:54.044', 'postgres');
INSERT INTO typzdroje (id, typzdr, cesta, rezervace, osoba, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (3, 0, 0, 0, NULL, 'Vozidlo služební', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:37:22.092', '2017-06-20 16:37:36.346', 'postgres');
INSERT INTO typzdroje (id, typzdr, cesta, rezervace, osoba, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (4, 3, 1, 0, NULL, 'Notebook', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:38:22.743', '2017-06-20 16:38:34.192', 'postgres');
INSERT INTO typzdroje (id, typzdr, cesta, rezervace, osoba, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (5, 3, 1, 0, NULL, 'Dataprojektor', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:38:37.484', '2017-06-20 16:39:37.956', 'postgres');
INSERT INTO typzdroje (id, typzdr, cesta, rezervace, osoba, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (6, 5, 1, 1, 0, 'Uživatel', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-11-26 23:24:55.649', '2017-11-26 23:25:15.559', 'postgres');


--
-- TOC entry 2193 (class 0 OID 321548)
-- Dependencies: 185
-- Data for Name: ucastnik; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 2194 (class 0 OID 321554)
-- Dependencies: 186
-- Data for Name: zdroj; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (1,1,1, '9T7 0006', 'Škoda Fabia
( přednostně přidělena Odboru dopravy)', 5, 'Škoda Fabia OD', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:44:02.312', '2017-06-20 16:45:17.602', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (2,1,1, '1TA 4173', 'Škoda CitiGo (modrá)
(přednostně přidělovat Sosciálnímu odboru)', 4, 'Škoda CitiGo SO', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:46:38.415', '2017-06-20 16:47:45.188', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (3,1,1, '1TA 4174', 'Škoda Fabia Combi (modrá)
(přednostně přidělovat Sociálnímu odboru)', 5, 'Škoda Fabia Combi SO', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:45:20.662', '2017-06-20 16:47:53.859', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (4,1,1, 'BRH 57-87', 'Škoda Felicia
(nemá dálniční známku)', 4, 'Škoda Felicia', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:48:12.202', '2017-06-20 16:49:17.001', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (5,1,1, '4T7 7890', 'Škoda Octavia Combi (stříbrná metalíza)
s dálniční známkou 2017', 5, 'Škoda Octavia Combi', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:49:29.244', '2017-06-20 16:50:31.934', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (6,1,1, 'BRH 20-61', 'Renault (modrý) - minibus
(přednostně Odbor dopravy)', 6, 'Renault (minibus)', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:50:58', '2017-06-20 16:52:05.826', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (7,1,1, '1T7 7334', 'Škoda Fabia  (černá)', 5, 'Škoda Fabia (černá)', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:52:11.799', '2017-06-20 16:53:10.658', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (8,1,1, '6T6 3739', 'Škoda Roomster
(přednostně přidělovat Sociálnímu odboru)', 5, 'Škoda Roomster SO', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:53:16.64', '2017-06-20 16:54:23.397', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (9,1,1, '8T0 0202', 'Škoda Superb Combi
(vozidlo s řidičem)', 5, 'Škoda Superb Combi (řidič)', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:56:11.952', '2017-06-20 16:57:04.445', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (10,1,1, '9T6 9696', 'Škoda Superb Sedan
(přednostně přidělovat vedení)', 5, 'Škoda Superb Sedan', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 16:57:45.645', '2017-06-20 16:59:09.841', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (11,1,1, '7T 8856', 'Moped Peugeot', 2, 'Moped Peugeot', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 17:02:01.637', '2017-06-20 17:02:44.345', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (12,1,1, '15057', 'Dataprojektor', 1, 'EPSON EB-U32 - dataprojektor', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 17:02:46.708', '2017-06-20 17:03:38.154', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (13,1,1, 'SP 13237', 'Dataprojektor BENQ MP624 (starší typ)', 1, 'BENQ MP624 - dataprojektor', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 17:03:46.858', '2017-06-20 17:05:58.031', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (14,1,1, 'SMM', 'Zasedací místnost SMM
(správce Z.Čáňová kl.406) ', 12, 'SMM - zasedací místnost', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 17:07:29.182', '2017-06-20 17:08:39.742', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (15,1,1, '', 'Malá zasedačka
(správkyně I. Mondeková kl. 206)', 20, 'Malá zasedačka', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 17:10:31.144', '2017-06-20 17:11:05.391', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (16,1,1, '', 'Notebook  Hewlet Packard
(správce N.Bazakas kl. 219)', 1, 'NB HP', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 17:11:19.573', '2017-06-20 17:11:44.469', 'postgres');
INSERT INTO zdroj (id, idtypzdr, idoso, spz, komentar, kapacita, popis, platiod, platido, timeinsert, timemodify, usermodify) VALUES (17,1,1, 'SP 13895', 'Notebook Toshiba
(správce N.Bazakas kl. 219)', 1, 'NB Toshiba', '2017-01-01 00:00:00', '2100-12-31 00:00:00', '2017-06-20 17:06:43.793', '2017-06-20 17:12:33.496', 'postgres');


--
-- TOC entry 2007 (class 2606 OID 321561)
-- Name: primarygroup; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY skupina
    ADD CONSTRAINT primarygroup PRIMARY KEY (id);


--
-- TOC entry 1967 (class 2606 OID 321563)
-- Name: primaryid; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY aktivity
    ADD CONSTRAINT primaryid PRIMARY KEY (id);


--
-- TOC entry 1971 (class 2606 OID 321565)
-- Name: primaryidcest; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY cesta
    ADD CONSTRAINT primaryidcest PRIMARY KEY (id);


--
-- TOC entry 1977 (class 2606 OID 321567)
-- Name: primaryiddisphl; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY dispecerhl
    ADD CONSTRAINT primaryiddisphl PRIMARY KEY (id);


--
-- TOC entry 1982 (class 2606 OID 321569)
-- Name: primaryiddisppol; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY dispecerpol
    ADD CONSTRAINT primaryiddisppol PRIMARY KEY (id);


--
-- TOC entry 1987 (class 2606 OID 321571)
-- Name: primaryidlog; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY log
    ADD CONSTRAINT primaryidlog PRIMARY KEY (id);


--
-- TOC entry 1991 (class 2606 OID 321573)
-- Name: primaryidoso; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY osoba
    ADD CONSTRAINT primaryidoso PRIMARY KEY (id);


--
-- TOC entry 1997 (class 2606 OID 321575)
-- Name: primaryidrez; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY rezervace
    ADD CONSTRAINT primaryidrez PRIMARY KEY (id);


--
-- TOC entry 1999 (class 2606 OID 321577)
-- Name: primaryidschv; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY schvaleni
    ADD CONSTRAINT primaryidschv PRIMARY KEY (id);


--
-- TOC entry 2009 (class 2606 OID 321579)
-- Name: primaryidtypakt; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY typaktivity
    ADD CONSTRAINT primaryidtypakt PRIMARY KEY (id);


--
-- TOC entry 2011 (class 2606 OID 321581)
-- Name: primaryidtypschv; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY typschv
    ADD CONSTRAINT primaryidtypschv PRIMARY KEY (id);


--
-- TOC entry 2013 (class 2606 OID 321583)
-- Name: primaryidtypucast; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY typucast
    ADD CONSTRAINT primaryidtypucast PRIMARY KEY (id);


--
-- TOC entry 2015 (class 2606 OID 321585)
-- Name: primaryidtypzdr; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY typzdroje
    ADD CONSTRAINT primaryidtypzdr PRIMARY KEY (id);


--
-- TOC entry 2021 (class 2606 OID 321587)
-- Name: primaryiducast; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY ucastnik
    ADD CONSTRAINT primaryiducast PRIMARY KEY (id);


--
-- TOC entry 2025 (class 2606 OID 321589)
-- Name: primaryidzdr; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY zdroj
    ADD CONSTRAINT primaryidzdr PRIMARY KEY (id);


--
-- TOC entry 1988 (class 1259 OID 321590)
-- Name: OsobaExtId; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "OsobaExtId" ON osoba USING btree (extid);


--
-- TOC entry 2388 (class 0 OID 0)
-- Dependencies: 1988
-- Name: INDEX "OsobaExtId"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "OsobaExtId" IS 'Externí ID';


--
-- TOC entry 1989 (class 1259 OID 321591)
-- Name: OsobaName; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "OsobaName" ON osoba USING btree (name);


--
-- TOC entry 2389 (class 0 OID 0)
-- Dependencies: 1989
-- Name: INDEX "OsobaName"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "OsobaName" IS 'Jméno osoby-uživatele-login ';


--
-- TOC entry 2005 (class 1259 OID 321592)
-- Name: SkupinaName; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "SkupinaName" ON skupina USING btree (name);


--
-- TOC entry 2390 (class 0 OID 0)
-- Dependencies: 2005
-- Name: INDEX "SkupinaName"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "SkupinaName" IS 'Jméno uživatele-osoby skupiny práv pro JdbcRealmAktivity';


--
-- TOC entry 1972 (class 1259 OID 321593)
-- Name: disphl-iddisphl; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "disphl-iddisphl" ON dispecerhl USING btree (iddisphl);


--
-- TOC entry 2391 (class 0 OID 0)
-- Dependencies: 1972
-- Name: INDEX "disphl-iddisphl"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "disphl-iddisphl" IS 'Index přes iddisphl na nadřízeného dispečera';


--
-- TOC entry 1973 (class 1259 OID 321594)
-- Name: disphl-idoso; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "disphl-idoso" ON dispecerhl USING btree (idoso);


--
-- TOC entry 2392 (class 0 OID 0)
-- Dependencies: 1973
-- Name: INDEX "disphl-idoso"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "disphl-idoso" IS 'Index přes idoso';


--
-- TOC entry 1974 (class 1259 OID 321595)
-- Name: disphl-idtypschv; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "disphl-idtypschv" ON dispecerhl USING btree (idtypschv);


--
-- TOC entry 2393 (class 0 OID 0)
-- Dependencies: 1974
-- Name: INDEX "disphl-idtypschv"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "disphl-idtypschv" IS 'Podle ID typu schvalovatele';


--
-- TOC entry 1975 (class 1259 OID 321596)
-- Name: disphl-idtypzdr; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "disphl-idtypzdr" ON dispecerhl USING btree (idtypzdr);


--
-- TOC entry 2394 (class 0 OID 0)
-- Dependencies: 1975
-- Name: INDEX "disphl-idtypzdr"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "disphl-idtypzdr" IS 'Podle ID typu zdroje';


--
-- TOC entry 1978 (class 1259 OID 321597)
-- Name: disppol-iddisphl; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "disppol-iddisphl" ON dispecerpol USING btree (iddisphl);


--
-- TOC entry 2395 (class 0 OID 0)
-- Dependencies: 1978
-- Name: INDEX "disppol-iddisphl"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "disppol-iddisphl" IS 'Index přes iddisphl';


--
-- TOC entry 1979 (class 1259 OID 321598)
-- Name: disppol-idoso; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "disppol-idoso" ON dispecerpol USING btree (idoso);


--
-- TOC entry 2396 (class 0 OID 0)
-- Dependencies: 1979
-- Name: INDEX "disppol-idoso"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "disppol-idoso" IS 'Index přes idoso';


--
-- TOC entry 1980 (class 1259 OID 321599)
-- Name: disppol-idzdr; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "disppol-idzdr" ON dispecerpol USING btree (idzdr);


--
-- TOC entry 2397 (class 0 OID 0)
-- Dependencies: 1980
-- Name: INDEX "disppol-idzdr"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "disppol-idzdr" IS 'Podle ID zdroje';


--
-- TOC entry 2022 (class 1259 OID 321600)
-- Name: fki_Zdroj-idoso; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "fki_Zdroj-idoso" ON zdroj USING btree (idoso);


--
-- TOC entry 1992 (class 1259 OID 321601)
-- Name: fki_idakt; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX fki_idakt ON rezervace USING btree (idakt DESC);


--
-- TOC entry 1993 (class 1259 OID 321602)
-- Name: fki_idcest; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX fki_idcest ON rezervace USING btree (idcest DESC);


--
-- TOC entry 1968 (class 1259 OID 321603)
-- Name: fki_idoso; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX fki_idoso ON cesta USING btree (idoso);


--
-- TOC entry 2016 (class 1259 OID 321604)
-- Name: fki_idosouca; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX fki_idosouca ON ucastnik USING btree (idoso DESC);


--
-- TOC entry 1965 (class 1259 OID 321605)
-- Name: fki_idownerakt; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX fki_idownerakt ON aktivity USING btree (idoso);


--
-- TOC entry 2017 (class 1259 OID 321606)
-- Name: fki_idtypucastuca; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX fki_idtypucastuca ON ucastnik USING btree (idtypucast);


--
-- TOC entry 1969 (class 1259 OID 321607)
-- Name: fki_idtypzdrces; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX fki_idtypzdrces ON cesta USING btree (idtypzdr DESC);


--
-- TOC entry 2023 (class 1259 OID 321608)
-- Name: fki_idtypzdrzdr; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX fki_idtypzdrzdr ON zdroj USING btree (idtypzdr);


--
-- TOC entry 1994 (class 1259 OID 321609)
-- Name: fki_idzdr; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX fki_idzdr ON rezervace USING btree (idzdr DESC);


--
-- TOC entry 1983 (class 1259 OID 321610)
-- Name: fki_log-idoso; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "fki_log-idoso" ON log USING btree (idoso);


--
-- TOC entry 1984 (class 1259 OID 321611)
-- Name: fki_log-idrez; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "fki_log-idrez" ON log USING btree (idrez);


--
-- TOC entry 1985 (class 1259 OID 321612)
-- Name: fki_log-iducast; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "fki_log-iducast" ON log USING btree (iducast);


--
-- TOC entry 1995 (class 1259 OID 321613)
-- Name: fki_paltioddo; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX fki_paltioddo ON rezervace USING btree (platiod DESC, platido DESC);


--
-- TOC entry 2018 (class 1259 OID 321614)
-- Name: fki_ucast-idcest; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "fki_ucast-idcest" ON ucastnik USING btree (idcest);


--
-- TOC entry 2019 (class 1259 OID 321615)
-- Name: fki_ucast-idoso; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "fki_ucast-idoso" ON ucastnik USING btree (idoso);


--
-- TOC entry 2000 (class 1259 OID 321616)
-- Name: schv-idcest; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "schv-idcest" ON schvaleni USING btree (idcest);


--
-- TOC entry 2398 (class 0 OID 0)
-- Dependencies: 2000
-- Name: INDEX "schv-idcest"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "schv-idcest" IS 'ID cesty';


--
-- TOC entry 2001 (class 1259 OID 321617)
-- Name: schv-idoso; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "schv-idoso" ON schvaleni USING btree (idoso);


--
-- TOC entry 2399 (class 0 OID 0)
-- Dependencies: 2001
-- Name: INDEX "schv-idoso"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "schv-idoso" IS 'Index přes idoso';


--
-- TOC entry 2002 (class 1259 OID 321618)
-- Name: schv-idrez; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "schv-idrez" ON schvaleni USING btree (idrez);


--
-- TOC entry 2400 (class 0 OID 0)
-- Dependencies: 2002
-- Name: INDEX "schv-idrez"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "schv-idrez" IS 'Index přes idrez';


--
-- TOC entry 2003 (class 1259 OID 321619)
-- Name: schv-idtypschv; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "schv-idtypschv" ON schvaleni USING btree (idtypschv);


--
-- TOC entry 2401 (class 0 OID 0)
-- Dependencies: 2003
-- Name: INDEX "schv-idtypschv"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "schv-idtypschv" IS 'Podle ID typu schvalovatele';


--
-- TOC entry 2004 (class 1259 OID 321620)
-- Name: schv-iducast; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX "schv-iducast" ON schvaleni USING btree (iducast);


--
-- TOC entry 2402 (class 0 OID 0)
-- Dependencies: 2004
-- Name: INDEX "schv-iducast"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON INDEX "schv-iducast" IS 'Index podle cizího klíče - id účastníka';


--
-- TOC entry 2055 (class 2620 OID 321621)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON aktivity FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2403 (class 0 OID 0)
-- Dependencies: 2055
-- Name: TRIGGER settimemodify ON aktivity; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TRIGGER settimemodify ON aktivity IS 'Nastavi cas posledni modifikace zaznamu tabulky aktivit';


--
-- TOC entry 2065 (class 2620 OID 321622)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON typaktivity FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2404 (class 0 OID 0)
-- Dependencies: 2065
-- Name: TRIGGER settimemodify ON typaktivity; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TRIGGER settimemodify ON typaktivity IS 'Nastavi cas posledni modifikace zaznamu tabulky typu aktivit';


--
-- TOC entry 2068 (class 2620 OID 321623)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON typzdroje FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2405 (class 0 OID 0)
-- Dependencies: 2068
-- Name: TRIGGER settimemodify ON typzdroje; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TRIGGER settimemodify ON typzdroje IS 'Nastavi cas posledni modifikace zaznamu tabulky zdroju';


--
-- TOC entry 2070 (class 2620 OID 321624)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON zdroj FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2057 (class 2620 OID 321625)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON cesta FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2069 (class 2620 OID 321626)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON ucastnik FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2067 (class 2620 OID 321627)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON typucast FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2406 (class 0 OID 0)
-- Dependencies: 2067
-- Name: TRIGGER settimemodify ON typucast; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TRIGGER settimemodify ON typucast IS 'Nastavi cas posledni modifikace zaznamu tabulky typu aktivit';


--
-- TOC entry 2066 (class 2620 OID 321628)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON typschv FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2407 (class 0 OID 0)
-- Dependencies: 2066
-- Name: TRIGGER settimemodify ON typschv; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TRIGGER settimemodify ON typschv IS 'Nastavi cas posledni modifikace zaznamu tabulky typu aktivit';


--
-- TOC entry 2060 (class 2620 OID 321629)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON log FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2062 (class 2620 OID 321630)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON rezervace FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2061 (class 2620 OID 321631)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON osoba FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2063 (class 2620 OID 321632)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON schvaleni FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2064 (class 2620 OID 321633)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON skupina FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2059 (class 2620 OID 321634)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON dispecerpol FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2058 (class 2620 OID 321635)
-- Name: settimemodify; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER settimemodify BEFORE INSERT OR UPDATE ON dispecerhl FOR EACH ROW EXECUTE PROCEDURE settimemodify();


--
-- TOC entry 2056 (class 2620 OID 321801)
-- Name: testid_on_activity; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER setnewid BEFORE INSERT OR DELETE OR UPDATE ON aktivity FOR EACH ROW EXECUTE PROCEDURE setnewid();


--
-- TOC entry 2408 (class 0 OID 0)
-- Dependencies: 2056
-- Name: TRIGGER testid_on_activity ON aktivity; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TRIGGER setnewid ON aktivity IS 'New ID autoIncrement';


--
-- TOC entry 2026 (class 2606 OID 321636)
-- Name: aktivity-idoso; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY aktivity
    ADD CONSTRAINT "aktivity-idoso" FOREIGN KEY (idoso) REFERENCES osoba(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2409 (class 0 OID 0)
-- Dependencies: 2026
-- Name: CONSTRAINT "aktivity-idoso" ON aktivity; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "aktivity-idoso" ON aktivity IS 'Odkaz na tabulku osoba - kdo je vlastnik aktivity';


--
-- TOC entry 2027 (class 2606 OID 321641)
-- Name: aktivity-idtypakt; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY aktivity
    ADD CONSTRAINT "aktivity-idtypakt" FOREIGN KEY (idtypakt) REFERENCES typaktivity(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2410 (class 0 OID 0)
-- Dependencies: 2027
-- Name: CONSTRAINT "aktivity-idtypakt" ON aktivity; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "aktivity-idtypakt" ON aktivity IS 'Cizi klic z tabulky aktTyp';


--
-- TOC entry 2028 (class 2606 OID 321646)
-- Name: cesta-idoso; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY cesta
    ADD CONSTRAINT "cesta-idoso" FOREIGN KEY (idoso) REFERENCES osoba(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2411 (class 0 OID 0)
-- Dependencies: 2028
-- Name: CONSTRAINT "cesta-idoso" ON cesta; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "cesta-idoso" ON cesta IS 'Odkaz na tabulku osob';


--
-- TOC entry 2029 (class 2606 OID 321651)
-- Name: cesta-idtypzdr; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY cesta
    ADD CONSTRAINT "cesta-idtypzdr" FOREIGN KEY (idtypzdr) REFERENCES typzdroje(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2030 (class 2606 OID 321656)
-- Name: disphl-iddisphl; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY dispecerhl
    ADD CONSTRAINT "disphl-iddisphl" FOREIGN KEY (iddisphl) REFERENCES dispecerhl(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2412 (class 0 OID 0)
-- Dependencies: 2030
-- Name: CONSTRAINT "disphl-iddisphl" ON dispecerhl; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "disphl-iddisphl" ON dispecerhl IS 'Odkaz na tabulku dispeceru(redundance), jedná-li se o zástupce';


--
-- TOC entry 2031 (class 2606 OID 321661)
-- Name: disphl-idoso; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY dispecerhl
    ADD CONSTRAINT "disphl-idoso" FOREIGN KEY (idoso) REFERENCES osoba(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2413 (class 0 OID 0)
-- Dependencies: 2031
-- Name: CONSTRAINT "disphl-idoso" ON dispecerhl; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "disphl-idoso" ON dispecerhl IS 'Cizi klic na tabulku osoba';


--
-- TOC entry 2032 (class 2606 OID 321666)
-- Name: disphl-idtypschv; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY dispecerhl
    ADD CONSTRAINT "disphl-idtypschv" FOREIGN KEY (idtypschv) REFERENCES typschv(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2414 (class 0 OID 0)
-- Dependencies: 2032
-- Name: CONSTRAINT "disphl-idtypschv" ON dispecerhl; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "disphl-idtypschv" ON dispecerhl IS 'Odkaz na tabulku typschv';


--
-- TOC entry 2033 (class 2606 OID 321671)
-- Name: disphl-idtypzdr; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY dispecerhl
    ADD CONSTRAINT "disphl-idtypzdr" FOREIGN KEY (idtypzdr) REFERENCES typzdroje(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2415 (class 0 OID 0)
-- Dependencies: 2033
-- Name: CONSTRAINT "disphl-idtypzdr" ON dispecerhl; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "disphl-idtypzdr" ON dispecerhl IS 'Odkaz na tabulku typzdroje';


--
-- TOC entry 2034 (class 2606 OID 321676)
-- Name: disppol-idoso; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY dispecerpol
    ADD CONSTRAINT "disppol-idoso" FOREIGN KEY (idoso) REFERENCES osoba(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2416 (class 0 OID 0)
-- Dependencies: 2034
-- Name: CONSTRAINT "disppol-idoso" ON dispecerpol; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "disppol-idoso" ON dispecerpol IS 'Cizi klic na tabulku osoba';


--
-- TOC entry 2035 (class 2606 OID 321681)
-- Name: disppol-idzdr; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY dispecerpol
    ADD CONSTRAINT "disppol-idzdr" FOREIGN KEY (idzdr) REFERENCES zdroj(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2417 (class 0 OID 0)
-- Dependencies: 2035
-- Name: CONSTRAINT "disppol-idzdr" ON dispecerpol; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "disppol-idzdr" ON dispecerpol IS 'Odkaz na tabulku zdroje';


--
-- TOC entry 2036 (class 2606 OID 321686)
-- Name: log-idakt; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY log
    ADD CONSTRAINT "log-idakt" FOREIGN KEY (idakt) REFERENCES aktivity(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2037 (class 2606 OID 321691)
-- Name: log-idcest; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY log
    ADD CONSTRAINT "log-idcest" FOREIGN KEY (idcest) REFERENCES cesta(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2418 (class 0 OID 0)
-- Dependencies: 2037
-- Name: CONSTRAINT "log-idcest" ON log; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "log-idcest" ON log IS 'ID na tabulku cesty';


--
-- TOC entry 2038 (class 2606 OID 321696)
-- Name: log-idoso; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY log
    ADD CONSTRAINT "log-idoso" FOREIGN KEY (idoso) REFERENCES osoba(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2419 (class 0 OID 0)
-- Dependencies: 2038
-- Name: CONSTRAINT "log-idoso" ON log; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "log-idoso" ON log IS 'Odkaz na tabulku osoba';


--
-- TOC entry 2039 (class 2606 OID 321701)
-- Name: log-idrez; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY log
    ADD CONSTRAINT "log-idrez" FOREIGN KEY (idrez) REFERENCES rezervace(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2420 (class 0 OID 0)
-- Dependencies: 2039
-- Name: CONSTRAINT "log-idrez" ON log; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "log-idrez" ON log IS 'Odkaz na tabulku rezervací';


--
-- TOC entry 2040 (class 2606 OID 321706)
-- Name: log-iducast; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY log
    ADD CONSTRAINT "log-iducast" FOREIGN KEY (iducast) REFERENCES ucastnik(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2421 (class 0 OID 0)
-- Dependencies: 2040
-- Name: CONSTRAINT "log-iducast" ON log; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "log-iducast" ON log IS 'Odkaz na tabulku ucastnik';


--
-- TOC entry 2041 (class 2606 OID 321711)
-- Name: log-idzdr; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY log
    ADD CONSTRAINT "log-idzdr" FOREIGN KEY (idzdr) REFERENCES zdroj(id) ON UPDATE SET NULL ON DELETE SET NULL;


--
-- TOC entry 2422 (class 0 OID 0)
-- Dependencies: 2041
-- Name: CONSTRAINT "log-idzdr" ON log; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "log-idzdr" ON log IS 'Odkaz na zdroj - cizi klic';


--
-- TOC entry 2042 (class 2606 OID 321716)
-- Name: rez-idakt; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY rezervace
    ADD CONSTRAINT "rez-idakt" FOREIGN KEY (idakt) REFERENCES aktivity(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2423 (class 0 OID 0)
-- Dependencies: 2042
-- Name: CONSTRAINT "rez-idakt" ON rezervace; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "rez-idakt" ON rezervace IS 'Odkaz na tabulku aktivity';


--
-- TOC entry 2043 (class 2606 OID 321721)
-- Name: rez-idcest; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY rezervace
    ADD CONSTRAINT "rez-idcest" FOREIGN KEY (idcest) REFERENCES cesta(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2424 (class 0 OID 0)
-- Dependencies: 2043
-- Name: CONSTRAINT "rez-idcest" ON rezervace; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "rez-idcest" ON rezervace IS 'Odkaz na tabulku cest';


--
-- TOC entry 2044 (class 2606 OID 321726)
-- Name: rez-idzdr; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY rezervace
    ADD CONSTRAINT "rez-idzdr" FOREIGN KEY (idzdr) REFERENCES zdroj(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2425 (class 0 OID 0)
-- Dependencies: 2044
-- Name: CONSTRAINT "rez-idzdr" ON rezervace; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "rez-idzdr" ON rezervace IS 'Odkaz na tabulku zdroje';


--
-- TOC entry 2045 (class 2606 OID 321731)
-- Name: schv-idcest; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY schvaleni
    ADD CONSTRAINT "schv-idcest" FOREIGN KEY (idcest) REFERENCES cesta(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2426 (class 0 OID 0)
-- Dependencies: 2045
-- Name: CONSTRAINT "schv-idcest" ON schvaleni; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "schv-idcest" ON schvaleni IS 'Odkaz na tabulku cesta';


--
-- TOC entry 2046 (class 2606 OID 321736)
-- Name: schv-idoso; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY schvaleni
    ADD CONSTRAINT "schv-idoso" FOREIGN KEY (idoso) REFERENCES osoba(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2427 (class 0 OID 0)
-- Dependencies: 2046
-- Name: CONSTRAINT "schv-idoso" ON schvaleni; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "schv-idoso" ON schvaleni IS 'Cizi klic na tabulku osoba';


--
-- TOC entry 2047 (class 2606 OID 321741)
-- Name: schv-idrez; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY schvaleni
    ADD CONSTRAINT "schv-idrez" FOREIGN KEY (idrez) REFERENCES rezervace(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2048 (class 2606 OID 321746)
-- Name: schv-idtypschv; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY schvaleni
    ADD CONSTRAINT "schv-idtypschv" FOREIGN KEY (idtypschv) REFERENCES typschv(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2428 (class 0 OID 0)
-- Dependencies: 2048
-- Name: CONSTRAINT "schv-idtypschv" ON schvaleni; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "schv-idtypschv" ON schvaleni IS 'Odkaz na tabulku typschv';


--
-- TOC entry 2049 (class 2606 OID 321751)
-- Name: schv-iducast; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY schvaleni
    ADD CONSTRAINT "schv-iducast" FOREIGN KEY (iducast) REFERENCES typucast(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2050 (class 2606 OID 321756)
-- Name: ucast-idcest; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY ucastnik
    ADD CONSTRAINT "ucast-idcest" FOREIGN KEY (idcest) REFERENCES cesta(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2429 (class 0 OID 0)
-- Dependencies: 2050
-- Name: CONSTRAINT "ucast-idcest" ON ucastnik; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "ucast-idcest" ON ucastnik IS 'Cizí klíč na tabulku cesta';


--
-- TOC entry 2051 (class 2606 OID 321761)
-- Name: ucast-idoso; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY ucastnik
    ADD CONSTRAINT "ucast-idoso" FOREIGN KEY (idoso) REFERENCES osoba(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2430 (class 0 OID 0)
-- Dependencies: 2051
-- Name: CONSTRAINT "ucast-idoso" ON ucastnik; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "ucast-idoso" ON ucastnik IS 'Odkaz na tabulku osoba';


--
-- TOC entry 2052 (class 2606 OID 321766)
-- Name: ucast-idtypucast; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY ucastnik
    ADD CONSTRAINT "ucast-idtypucast" FOREIGN KEY (idtypucast) REFERENCES typucast(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2431 (class 0 OID 0)
-- Dependencies: 2052
-- Name: CONSTRAINT "ucast-idtypucast" ON ucastnik; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "ucast-idtypucast" ON ucastnik IS 'Odkaz na ciselnik typu ucatniku';


--
-- TOC entry 2053 (class 2606 OID 321771)
-- Name: zdroj-idoso; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY zdroj
    ADD CONSTRAINT "zdroj-idoso" FOREIGN KEY (idoso) REFERENCES osoba(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2432 (class 0 OID 0)
-- Dependencies: 2053
-- Name: CONSTRAINT "zdroj-idoso" ON zdroj; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "zdroj-idoso" ON zdroj IS 'Odkaz na tabulku osob';


--
-- TOC entry 2054 (class 2606 OID 321776)
-- Name: zdroj-idtypzdr; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY zdroj
    ADD CONSTRAINT "zdroj-idtypzdr" FOREIGN KEY (idtypzdr) REFERENCES typzdroje(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2433 (class 0 OID 0)
-- Dependencies: 2054
-- Name: CONSTRAINT "zdroj-idtypzdr" ON zdroj; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT "zdroj-idtypzdr" ON zdroj IS 'Odkaz na typ zdroje - cizi klic';


--
-- TOC entry 2203 (class 0 OID 0)
-- Dependencies: 6
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2017-12-19 23:24:50

--
-- PostgreSQL database dump complete
--

